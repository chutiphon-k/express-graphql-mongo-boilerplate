{"version":3,"sources":["webpack:///webpack/bootstrap baa423997f797ee3e3bb","webpack:///external \"mongoose\"","webpack:///./node_modules/babel-runtime/regenerator/index.js","webpack:///external \"express\"","webpack:///external \"apollo-errors\"","webpack:///./src/index.js","webpack:///external \"body-parser\"","webpack:///external \"compression\"","webpack:///external \"cors\"","webpack:///external \"helmet\"","webpack:///external \"morgan\"","webpack:///external \"colors\"","webpack:///./src/routes/index.js","webpack:///external \"apollo-server-express\"","webpack:///./src/schema/index.js","webpack:///external \"graphql-tools\"","webpack:///./src/schema/resolvers/index.js","webpack:///external \"lodash\"","webpack:///./src/schema/resolvers/queries/users.js","webpack:///external \"regenerator-runtime\"","webpack:///./src/models/User.js","webpack:///./src/schema/resolvers/mutations/addUser.js","webpack:///./src/schema/typeDefs/index.js","webpack:///./src/schema/typeDefs/RootMutation.js","webpack:///./src/schema/typeDefs/types/User.js","webpack:///./src/schema/typeDefs/interfaces/UserInterface.js","webpack:///./src/schema/typeDefs/RootQuery.js","webpack:///./src/bin/server.js","webpack:///external \"graphql-date\""],"names":[],"mappings":"iEACA,cAMA,IACA,iBAGA,mBACA,CACA,IACA,KAIA,2CAGA,aAGA,OACA,OAIA,IAzBA,eA4BA,MAGA,uBACA,GACA,kCACA,CACA,gBACA,cAGA,OAGA,iBACA,YACA,qBAA2B,UAA0B,UACrD,YAAiC,CAAe,QAChD,EAEA,aADA,QAIA,mBAAsD,wCAA+D,SAGrH,MAGA,2BC7DA,kB,6BCAA,6BCAA,kB,wBCAA,kB,4aCUA,IAEA,IAAO,SACN,OACA,gBACA,eACA,cACA,YACA,aACA,YACA,YACA,eACA,aAAO,QAGR,IAAS,QAAU,QAGnB,GAAM,GAGL,UAAS,IACT,cAAI,IAAI,IACR,QAED,EAAI,IAAI,IAAW,QACnB,EAAI,IAAI,IAAW,WAAW,CAAY,eAC1C,EAAI,IAAI,OACR,EAAI,IAAI,OACR,EAAI,IAAI,OACR,EAAI,IAAI,IAAK,KAEb,EAAI,IAAU,aACb,GAAI,OAAO,KAAK,KACf,SAED,aAJD,GAMA,EAAI,IAAe,eAClB,GAAI,OAAO,KACX,OAFD,GAIA,IAAY,qBCpDZ,kB,4BCAA,kB,4BCAA,kB,qBCAA,kB,uBCAA,kB,uBCAA,kB,iGCQA,IAAM,EAAS,OAGd,cAAO,IAAI,WAAY,0BACtB,aAED,cAED,EAAO,IAAI,IAAW,aACrB,GAAI,KACJ,oCAFD,GAIA,EAAO,KAAK,WAAY,yBAAe,eAAG,gBACzC,QACA,gBACA,sBAAS,CAAE,QAGZ,IAAe,mBC1Bf,kB,wFCKA,QAAe,+BAAqB,CAAE,aAAU,6BCLhD,kB,iGCMA,IAAM,EACL,MAAM,EACN,EACA,YAGD,oBAAe,OAAM,yBCZrB,kB,yeCEA,WAAe,mGACM,IAAU,SAAI,WAA5B,SADQ,mBAEP,gBAFO,oCAAf,iBCFA,kB,oECEA,KAAM,EAAS,GAAI,KAAS,OAC3B,UACC,MACA,OAED,uBACA,oBAAc,QAEd,CAGD,oBAAe,IAAS,MAAc,ucCVtC,mDAAM,EAAW,sBAAY,WAC3B,SAAS,2CAGX,kBAAsD,eAAvC,SAAc,aAAU,2CAAxB,qDACK,IAAK,KAAK,CAAE,iBAAzB,MADQ,SAEV,GAFU,qBAEM,OAAS,CACrB,qBAHM,mBAKQ,IAAK,OAC1B,CACA,WAFiC,oBAA5B,SALQ,mBASP,gBATO,oCAAf,qD,CAAA,iDCJM,QASS,CAAC,IAAyB,IAAzC,gICVM,OAMS,iBAAO,CAAtB,4FAAoC,IAApC,wCCNM,QAWS,iBAAO,CAAtB,sLAA4B,IAA5B,6FCbM,iBASS,iBAAO,CAAtB,uKCPM,OAMS,iBAAO,CAAtB,iDAAiC,IAAjC,4TCNA,4CAAM,EAAO,QAAQ,IACrB,UAAM,EAAY,QAAQ,IAAI,WAC9B,8DAAM,EAEN,EAAM,8BAAc,aAAP,kGAEL,IAAiB,eACvB,KAAW,SAAM,UAChB,SAAQ,IAAI,CAA0B,6BACtC,KAFD,UAHW,yCAOX,WAAQ,IAAI,iCACR,OARO,EASP,EATO,EASI,YAAY,UAC1B,SAAQ,IAAI,iCAAgD,oBAC5D,MACC,QACA,iBAED,MACA,GAAE,WAhBQ,6CAAP,qDAoBN,QACC,CADc,qBC1Bf,kB","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap baa423997f797ee3e3bb","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/regenerator/index.js\n// module id = 1\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"apollo-errors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"apollo-errors\"\n// module id = 3\n// module chunks = 0","import express from 'express'\nimport bodyParser from 'body-parser'\nimport compression from 'compression'\nimport cors from 'cors'\nimport helmet from 'helmet'\nimport morgan from 'morgan'\nimport mongoose from 'mongoose'\nimport colors from 'colors'\n\nimport routes from 'routes'\nimport server from 'bin/server'\n\ncolors.setTheme({\n\tsilly: 'rainbow',\n\tinput: 'grey',\n\tverbose: 'cyan',\n\tprompt: 'grey',\n\tinfo: 'green',\n\tdata: 'grey',\n\thelp: 'cyan',\n\twarn: 'yellow',\n\tdebug: 'blue',\n\terror: 'red'\n})\n\nmongoose.Promise = Promise\n\nconst isDev = process.env.NODE_ENV === 'development'\nconst app = express()\n\nif (isDev) {\n\tmongoose.set('debug', true)\n\tapp.use(morgan('dev'))\n}\n\napp.use(bodyParser.json())\napp.use(bodyParser.urlencoded({ extended: true }))\napp.use(compression())\napp.use(cors())\napp.use(helmet())\napp.use('/', routes)\n\napp.use((req, res) => {\n\tres.status(404).json({\n\t\tmessage: 'not found'\n\t})\n})\n\napp.use((err, req, res) => {\n\tres.status(500).json(err)\n})\n\nserver.init(app)\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"compression\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"compression\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cors\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"helmet\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"morgan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morgan\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"colors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"colors\"\n// module id = 13\n// module chunks = 0","import { Router } from 'express'\nimport { graphqlExpress, graphiqlExpress } from 'apollo-server-express'\nimport { formatError } from 'apollo-errors'\n\nimport schema from 'schema'\n\nconst isDev = process.env.NODE_ENV === 'development'\n\nconst router = Router()\n\nif (isDev) {\n\trouter.get('/graphql', graphiqlExpress({\n\t\tendpointURL: '/graphql'\n\t}))\n}\n\nrouter.get('/', (req, res) => {\n\tres.send('Express Graphql Mongo Boilerplate')\n})\n\nrouter.post('/graphql', graphqlExpress(({ user }) => ({\n\tschema,\n\tformatError,\n\tcontext: { user }\n})))\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/routes/index.js","module.exports = require(\"apollo-server-express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"apollo-server-express\"\n// module id = 15\n// module chunks = 0","import { makeExecutableSchema } from 'graphql-tools'\n\nimport resolvers from 'schema/resolvers'\nimport typeDefs from 'schema/typeDefs'\n\nexport default makeExecutableSchema({ typeDefs, resolvers })\n\n\n\n// WEBPACK FOOTER //\n// ./src/schema/index.js","module.exports = require(\"graphql-tools\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"graphql-tools\"\n// module id = 17\n// module chunks = 0","import { merge } from 'lodash'\nimport GraphQLDate from 'graphql-date'\n\nimport * as queries from 'schema/resolvers/queries'\nimport * as mutations from 'schema/resolvers/mutations'\n\nconst rootResolvers = {\n\tDate: GraphQLDate,\n\tRootQuery: queries,\n\tRootMutation: mutations\n}\n\nexport default merge(rootResolvers)\n\n\n\n// WEBPACK FOOTER //\n// ./src/schema/resolvers/index.js","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 19\n// module chunks = 0","import { User } from 'models'\n\nexport default async () => {\n\tconst users = await User.find({}).lean()\n\treturn users\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/schema/resolvers/queries/users.js","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 22\n// module chunks = 0","import mongoose from 'mongoose'\n\nconst schema = new mongoose.Schema({\n\tusername: {\n\t\ttype: String,\n\t\tunique: true\n\t},\n\tdescription: String,\n\tprofileImage: String\n}, {\n\ttimestamps: true\n})\n\nexport default mongoose.model('User', schema)\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/User.js","import { User } from 'models'\nimport { createError } from 'apollo-errors';\n\nconst FooError = createError('FooError', {\n  message: 'A foo error has occurred'\n});\n\nexport default async (obj, { username, description }, context) => {\n\tconst user = await User.find({ username })\n\tif (user) throw new FooError({ data: {\n\t\t\"aaa\": 100\n\t} })\n\tconst newUser = await User.create({\n\t\tusername,\n\t\tdescription\n\t})\n\treturn newUser\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/schema/resolvers/mutations/addUser.js","import RootMutation from 'schema/typeDefs/RootMutation'\nimport RootQuery from 'schema/typeDefs/RootQuery'\n\nconst Schema = `\n\tscalar Date\n\n\tschema {\n\t\tquery: RootQuery\n\t\tmutation: RootMutation\n\t}\n`\n\nexport default [RootQuery, RootMutation, Schema]\n\n\n\n// WEBPACK FOOTER //\n// ./src/schema/typeDefs/index.js","import { User } from 'schema/typeDefs/types'\n\nconst RootMutation = `\n\ttype RootMutation {\n\t\taddUser(username: String!, description: String): User\n\t}\n`\n\nexport default () => [RootMutation, User]\n\n\n\n// WEBPACK FOOTER //\n// ./src/schema/typeDefs/RootMutation.js","import { UserInterface } from 'schema/typeDefs/interfaces'\n\nconst User = `\n\ttype User implements UserInterface {\n\t\t_id: ID!\n\t\tusername: String!\n\t\tdescription: String\n\t\tprofileImage: String\n\t\tcreatedAt: Date!\n\t\tupdatedAt: Date!\n\t}\n`\n\nexport default () => [User, UserInterface]\n\n\n\n// WEBPACK FOOTER //\n// ./src/schema/typeDefs/types/User.js","const UserInterface = `\n\tinterface UserInterface {\n\t\t_id: ID!\n\t\tusername: String!\n\t\tdescription: String\n\t\tprofileImage: String\n\t}\n`\n\nexport default () => [UserInterface]\n\n\n\n// WEBPACK FOOTER //\n// ./src/schema/typeDefs/interfaces/UserInterface.js","import { User } from 'schema/typeDefs/types'\n\nconst RootQuery = `\n\ttype RootQuery {\n\t\tusers: [User]\n\t}\n`\n\nexport default () => [RootQuery, User]\n\n\n\n// WEBPACK FOOTER //\n// ./src/schema/typeDefs/RootQuery.js","import mongoose from 'mongoose'\n\nconst PORT = process.env.PORT || 3000\nconst MONGO_URL = process.env.MONGO_URL || 'mongodb://localhost:27017/express-graphql-mongo-boilerplate'\nconst AttemptConnectDB = 5\n\nconst init = async (app) => {\n\ttry {\n\t\tawait mongoose.connect(MONGO_URL)\n\t\tapp.listen(PORT, () => {\n\t\t\tconsole.log(`[INFO] Listening on *: ${PORT}`.info)\n\t\t})\n\t} catch (e) {\n\t\tconsole.log(`[Error] Cannot connect MongoDB`.error)\n\t\tlet couter = 0\n\t\tlet interval = setInterval(() => {\n\t\t\tconsole.log(`MongoDB not ready, retry in ${AttemptConnectDB-couter} seconds...`.data)\n\t\t\tif (couter === AttemptConnectDB) {\n\t\t\t\tclearInterval(interval)\n\t\t\t\tinit(app)\n\t\t\t}\n\t\t\t++couter\n\t\t}, 1000)\n\t}\n}\n\nexport default {\n\tinit\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/bin/server.js","module.exports = require(\"graphql-date\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"graphql-date\"\n// module id = 33\n// module chunks = 0"],"sourceRoot":""}